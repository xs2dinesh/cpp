Received: by 10.150.54.1 with HTTP; Wed, 23 Jan 2008 19:07:19 -0800 (PST)
Message-ID: <313b0d8e0801231907k6a284f49wc4bea836847ec878@mail.gmail.com>
Date: Thu, 24 Jan 2008 03:07:19 +0000
From: "Dinesh Verma" <cooldineshverma@gmail.com>
To: cooldineshverma@gmail.com
Subject: Microsoft puzzle
MIME-Version: 1.0
Content-Type: multipart/mixed; 
	boundary="----=_Part_10593_28741599.1201144039329"
Delivered-To: cooldineshverma@gmail.com

------=_Part_10593_28741599.1201144039329
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

PUZZLE:

On a circular table 1000 men are sitting. First man has a gun.
It happens that the person who has the gun kill the man on his
right and hand over the gun to the person next to him.
This sequence continues till only one man suvives.

Find out who survived.
Give a generic algorithm to find it.

------=_Part_10593_28741599.1201144039329
Content-Type: text/x-csrc; name=puzzle.c
Content-Transfer-Encoding: base64
X-Attachment-Id: f_fbttmdmh
Content-Disposition: attachment; filename=puzzle.c

LyoKUFVaWkxFOgoKT24gYSBjaXJjdWxhciB0YWJsZSAxMDAwIG1lbiBhcmUgc2l0dGluZy4gRmly
c3QgbWFuIGhhcyBhIGd1bi4KSXQgaGFwcGVucyB0aGF0IHRoZSBwZXJzb24gd2hvIGhhcyB0aGUg
Z3VuIGtpbGwgdGhlIG1hbiBvbiBoaXMKcmlnaHQgYW5kIGhhbmQgb3ZlciB0aGUgZ3VuIHRvIHRo
ZSBwZXJzb24gbmV4dCB0byBoaW0uClRoaXMgc2VxdWVuY2UgY29udGludWVzIHRpbGwgb25seSBv
bmUgbWFuIHN1dml2ZXMuCgpGaW5kIG91dCB3aG8gc3Vydml2ZWQuCkdpdmUgYSBnZW5lcmljIGFs
Z29yaXRobSB0byBmaW5kIGl0LgoKCkFuc3dlciBpcyA6IHB1dCBOIChudW1iZXIgb2YgcGVyc29u
cykgaW4gZm9ybSBvZiAyXmkragpOPTJeaStqCgpOb3cgMipqKzEgZ2l2ZXMgdGhlIGFuc3dlci4K
Ki8KCgojaW5jbHVkZTxzdGRpby5oPgoKc3RydWN0IE5vZGUgewogIHN0cnVjdCBOb2RlICpuZXh0
OwogIHNpemVfdCByb2xsTnVtYmVyOwp9OwoKc3RydWN0IE5vZGUqIEJ1aWxkQ2lyY3VsYXJMaXN0
IChzaXplX3QgbikgewoKICBzdHJ1Y3QgTm9kZSAqaGVhZCA9TlVMTCwgKnRhaWw9TlVMTCwgKnRl
bXAgOwoKICB3aGlsZSAobiA+IDApIHsKICAgIGlmKCAodGVtcCA9IChzdHJ1Y3QgTm9kZSopIG1h
bGxvYyhzaXplb2Yoc3RydWN0IE5vZGUpKSkgPT0gTlVMTCApIHsKICAgICAgcGVycm9yKCJBbGxv
Y2F0aW5nIE5vZGUiKTsKICAgICAgZ290byBmYWlsdXJlOwogICAgfQoKICAgIHRlbXAtPnJvbGxO
dW1iZXIgPSBuOwogICAgdGVtcC0+bmV4dCA9IGhlYWQgOwoKICAgIGlmKGhlYWQpIHsKICAgICAg
dGVtcC0+bmV4dCA9IGhlYWQ7CiAgICAgIGhlYWQgPSB0ZW1wOwogICAgfQogICAgZWxzZSB7CiAg
ICAgIGhlYWQgPSB0YWlsID0gdGVtcDsKICAgIH0KCiAgICAtLW47CiAgfQoKICB0YWlsLT5uZXh0
ID0gaGVhZDsKCiAgcmV0dXJuIGhlYWQ7CgpmYWlsdXJlIDoKICB3aGlsZShoZWFkKSB7CiAgICB0
ZW1wID0gaGVhZDsKICAgIGhlYWQgPWhlYWQtPm5leHQ7CiAgICBmcmVlKHRlbXApOwogIH0KICBy
ZXR1cm4gTlVMTDsKfQoKc3RydWN0IE5vZGUqIERlbGV0ZUFsdGVybmF0ZVBlcnNvbihzdHJ1Y3Qg
Tm9kZSogaGVhZCkgewoKICBzdHJ1Y3QgTm9kZSogdGVtcCA9IGhlYWQgOwoKICB3aGlsZSggaGVh
ZCAmJiBoZWFkLT5uZXh0ICE9IGhlYWQgKSB7CiAgICB0ZW1wID0gaGVhZC0+bmV4dDsKICAgIGhl
YWQtPm5leHQgPSBoZWFkLT5uZXh0LT5uZXh0OwogICAgZnJlZSh0ZW1wKTsKICAgIGhlYWQ9IGhl
YWQtPm5leHQ7CiAgfQoKICByZXR1cm4gaGVhZDsKfQoKaW50IG1haW4oaW50IGFyZ2MsIGNoYXIq
KiBhcmd2KSB7CgogIHNpemVfdCBzaXplID0gMCA7CiAgc3RydWN0IE5vZGUqIGhlYWQgOwoKICBp
ZiggYXJnYyA8IDIgKSAgewogICAgcHJpbnRmKCJcblVTQUdFOiA8ZXhlY3VhdGJsZSBuYW1lPiA8
TnVtYmVyIG9mIHBlcnNvbnM+XG4iKTsKICAgIHJldHVybiAxOwogIH0KCiAgaWYoKHNpemUgPSBh
dG9sKGFyZ3ZbMV0pKSA8PSAwICkgICB7CiAgICBwcmludGYoIlxuTnVtYmVyIG9mIHBlcnNvbnMg
aGFzIHRvIGJlIHBvc2l0aXZlXG4iKTsKICAgIHJldHVybiAxOwogIH0KCiAgaGVhZCA9IEJ1aWxk
Q2lyY3VsYXJMaXN0KHNpemUpOwoKICBpZihoZWFkKSAgIHsKICAgIGhlYWQgPSBEZWxldGVBbHRl
cm5hdGVQZXJzb24oaGVhZCk7CiAgICBwcmludGYoIlxuVGhlIHBlcnNvbiB3aG8gc3Vydml2ZWQg
aXMgOiAlbGRcblxuIiwgaGVhZC0+cm9sbE51bWJlcik7CiAgICBmcmVlKGhlYWQpOwogIH0KICBl
bHNlCiAgICByZXR1cm4gMTsKCiAgcmV0dXJuIDA7Cn0K
------=_Part_10593_28741599.1201144039329--
